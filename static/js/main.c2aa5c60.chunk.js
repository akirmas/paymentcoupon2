(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports=a(20)},20:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(12),i=a(4),o=a(1),l=a(13),s=function(e){var t=e.src,a=e.alt,n=void 0===a?"":a,r=Object(l.a)(e,["src","alt"]);return c.a.createElement("img",Object.assign({src:"./"+t,alt:n},r))},u=function(e){var t=e.title,a=e.price,n=e.titletip,r=e.programinclude,i=e.selected,o=e.index,l=e.changeSelectedProduct,u=e.discount,m=e.img;return c.a.createElement("div",{className:"product"},c.a.createElement("h3",{className:"product__title"},t),c.a.createElement("h4",{className:"product__tip"},n),u&&c.a.createElement("h3",{className:"product__price"},+a/100*(100-+u)),c.a.createElement("h3",{className:"product__price ".concat(u?"product__price--crossed":"")},a),c.a.createElement("ul",{className:"product__description"},r.map(function(e){return c.a.createElement("li",{key:e,className:"product__include"},e)})),c.a.createElement("button",{className:"product__btn  ".concat(i?"product__btn--selected":""),onClick:function(){return l(o)}},i?"Selected":"Buy Now"),u&&c.a.createElement("div",{className:"product__discount-banner"},c.a.createElement(s,{className:"product__discount-img",src:m.src,alt:m.alt}),c.a.createElement("div",{className:"product__discount-off"},c.a.createElement("span",{className:"product__discount-num"},u,"%"),c.a.createElement("span",null,"OFF"))))};var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=window.localStorage.getItem("fc6024652c129208064fdeca6732464e"),a=Date.now(),c=Math.floor(new Date(a-t).getTime()/1e3);t&&c<60*e||window.localStorage.setItem("fc6024652c129208064fdeca6732464e","".concat(a));var r=Object(n.useState)(c>60*e?60*e:60*e-c),i=Object(o.a)(r,2),l=i[0],s=i[1],u=Math.ceil(l/60),m=60*(e-u)-(60*e-l)+59;return Object(n.useEffect)(function(){var e=setInterval(function(){return s(l-1)},1e3);return 0===m&&u-1===0&&clearInterval(e),function(){return clearInterval(e)}},[l,e,u,m]),{seconds:1===m.toString().length?"0"+m:m,minutes:1===(u-1).toString().length?"0"+(u-1):u-1}},d=function(e){var t=e.chance,a=t.title,n=t.message,r=t.img,i=m(10),o=i.seconds,l=i.minutes;return c.a.createElement("div",{className:"program__chance"},c.a.createElement("div",{className:"program__chance-box"},c.a.createElement("h3",{className:"program__chance-title"},a),c.a.createElement("p",{className:"program__chance-message"},n)),c.a.createElement("div",{className:"program__chance-img-container"},c.a.createElement(s,Object.assign({},r,{className:"program__chance-img"}))),c.a.createElement("div",{className:"program__chance-box"},c.a.createElement("div",{className:"program__win"},c.a.createElement("div",{className:"program__win-cell"},c.a.createElement("span",{className:"program__win-unit"},"HOURS"),c.a.createElement("span",null,"00")),c.a.createElement("div",{className:"program__win-cell program__win-cell--divider"},c.a.createElement("span",null,":")),c.a.createElement("div",{className:"program__win-cell"},c.a.createElement("span",{className:"program__win-unit"},"MINUTES"),c.a.createElement("span",null,l)),c.a.createElement("div",{className:"program__win-cell program__win-cell--divider"},c.a.createElement("span",null,":")),c.a.createElement("div",{className:"program__win-cell"},c.a.createElement("span",{className:"program__win-unit"},"SECONDS"),c.a.createElement("span",null,o)))))},p=function(e){var t=e.chance,a=e.saveProducts,n=e.changeSelectedProduct;return c.a.createElement("div",{className:"program"},c.a.createElement("div",{className:"program__header"},c.a.createElement("h2",{className:"program__title-header"},"The Official Green Card Program"),c.a.createElement("h3",{className:"program__title-header program__title-header--italic"},"Come Live and Work In the US")),c.a.createElement("div",{className:"program__container"},c.a.createElement(d,{chance:t}),c.a.createElement("div",{className:"program__products"},a&&a.map(function(e,t){return c.a.createElement(u,Object.assign({key:e.title},e,{index:t,changeSelectedProduct:n}))}))))},f=a(3),v=a(2),h=a(7),b=a(9),g=a(8),_=a(6),j=a(10),y=a(5);function E(e,t,a){null!==e&&"object"===typeof e&&a.forEach(function(a){return e[t].apply(e,Object(v.a)(a))})}function O(e){return"string"!==typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n.isValidElement)(e)?e:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=function(e){return N(e,t)};return Array.isArray(e)?e.map(a):"object"!==typeof e?e:Object.keys(e).map(function(c){var r=e[c],i=Object.assign({},"object"!==typeof r||Array.isArray(r)?{children:Array.isArray(r)?r:[r]}:r),o=i.tag,l=void 0===o?c:o,s=i.name,u=void 0===s?c:s,m=i.className,d=void 0===m?u:m,p=i.key,f=void 0===p?u:p,h=i.children,b=void 0===h?[]:h;return Object.assign(i,{name:u,key:f,className:d}),delete i.children,delete i.tag,n.createElement.apply(void 0,[l in t?t[l]:l,i].concat(Object(v.a)((Array.isArray(b)?b:[b]).map(a))))})}(e,t)}var k=function(e){function t(e){var a;Object(h.a)(this,t),a=Object(b.a)(this,Object(g.a)(t).call(this,e));var n=e.duringConstruct;return"function"===typeof n&&n(e),a}return Object(j.a)(t,e),Object(_.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.onChange,a=e.value,n=e.defaultValue;t({target:{name:e.name,value:a||n}})}},{key:"render",value:function(){var e=this.props,t=e.name,a=void 0===t?"":t,n=e.label,r=void 0===n?"":n,i=e.type,o=void 0===i?"title":i,l=e.isvalid,s=e.disabled,u=void 0!==s&&s,m=e.required,d=void 0!==m&&m,p=e.validator,f=e.style,v=void 0===f?{}:f,h=e.parentkey,b=Object.assign({name:a},this.props);delete b.duringConstruct;var g=function(e,t){return Object.assign(t,{"data-parentkey":h,className:[O(e),u?"Disabled":"",d?"Required":"",["NoValidation","NotValid","Valid"][1+l],"function"===typeof p?O(p):""].join(" "),key:"".concat(e).concat(a),style:v})},_=g("input",Object.assign(b,b.value?{disabled:!0}:{},{name:a,id:"".concat(h,"/input:").concat(a)})),j=g("label",{htmlFor:_.id,name:a,children:r}),y="input";switch(o){case"title":j.className+=" ".concat(O(o));break;case"textarea":y=o,_.className+=" ".concat(O(o));break;case"list":var E=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.checkbox,r=void 0!==n&&n,i=a.parentkey,o=void 0===i?"":i;return{tag:r?"":"select",children:t.map(function(t){var n="object"===typeof t?t:{value:t},i=n.value,l=n.label,s=void 0===l?i:l,u="".concat(o).concat(e).concat(i),m=[e,i].map(O).join(" ");return r?c.a.createElement(c.a.Fragment,null,c.a.createElement("input",Object.assign({},a,{name:e,value:i,type:"radio",id:u,key:u,className:"".concat(m," Input"),onClick:function(){return a.onChange.apply(a,arguments)},onChange:null})),c.a.createElement("label",{name:e,className:"".concat(m," Option"),htmlFor:u,key:"".concat(u,"/Option")},N(s))):c.a.createElement("option",{key:u,value:i},s)})}}(_.name,_.items,_);y=E.tag,_.children=E.children;break;case"year":case"month":y="select",_.children=S(w[o].count,function(e){var t=0===e?"":e+w[o].startValue;return c.a.createElement("option",Object.assign({key:"Option".concat(_.name).concat(e)},{value:t}),t)});break;case"button":_.className+=" Button",_.value=r;break;case"submit":_.value=r,_.className+=" Submit Button";default:if(!C.includes(o))return[];_.type=o}return _.value=_.value||_.defaultValue,delete _.defaultValue,c.a.createElement(c.a.Fragment,null," ",""===r||["submit","button","hidden"].includes(o)?null:c.a.createElement("label",j),["","title"].includes(o)?null:""===y?_.children:c.a.createElement(y,_)," ")}}]),t}(c.a.Component),S=function(e,t){return Object(v.a)(Array(e).keys()).map(t)},w={month:{startValue:0,count:13},year:{startValue:(new Date).getFullYear()-1,count:22}},C=["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];var D=Object.create({_prefix:"data_",data:function(e){return"".concat(this._prefix).concat(e)},pure:function(e){return e.replace(new RegExp("^".concat(this._prefix)),"")},is:function(e){return e.startsWith(this._prefix)}}),x={validate:function(e,t){var a=this,n=e;if(null!==e){"object"!==typeof n&&(Array.isArray(n)||(n=[n]),n={allOf:n});var c=Object.keys(n);if(1===c.length){var r=n[c=c[0]];switch(c){case"allOf":return r.every(function(e){return!(e in a.validators)||a.validators[e](t)});case"anyOf":return r.some(function(e){return e in a.validators&&a.validators[e](t)});default:return}}}},validators:{luhn:function(e){return e>0&&Object(v.a)(e.toString().replace(/[^0-9]+/g,"")).reverse().map(function(e,t){return e*(1+t%2)}).map(function(e){return e-(e<10?0:9)}).reduce(function(e,t){return e+t},0)%10===0},isracardDirect:function(e){return Object(v.a)(("0".repeat(9)+e.toString().replace(/[^0-9]+/g,"")).substr(-9)).map(function(e,t){return e*[-2,-3,-4,-5,5,4,3,2,1][t]}).reduce(function(e,t){return e+t},0)%11===0},required:function(e){return""!==e}}},I=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(b.a)(this,Object(g.a)(t).call(this,e))).state={disabled:!1,clicked:"",inputs:{}},a.dataForInjector=[],["handleChange","pushData","ajaxSubmit","setDisabled"].forEach(function(e){return a[e]=a[e].bind(Object(y.a)(Object(y.a)(a)))}),a.dataForInjector=[["dataInjecting",a.pushData],["disable",a.setDisabled]],a.onChange=function(t){a.handleChange(t),"function"===typeof e.onChange&&e.onChange(t,Object(y.a)(Object(y.a)(a)))},a.state=Object.assign(a.state,a.inputsToState(e.inputs)),a}return Object(j.a)(t,e),Object(_.a)(t,[{key:"inputsToState",value:function(e){return Object.assign.apply(Object,[{},{inputs:e}].concat(Object(v.a)(Object.entries(e).map(function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1],c=n.value,r=void 0===c?"":c,i=n.defaultValue,l=void 0===i?"":i;n.items;return Object(f.a)({},D.data(a),l||r)}))))}}]),Object(_.a)(t,[{key:"setDisabled",value:function(e){var t=e.detail;this.setState({disabled:t})}},{key:"componentDidMount",value:function(){E(this.props.injector,"addEventListener",this.dataForInjector)}},{key:"componentWillUnmount",value:function(){E(this.props.injector,"removeEventListener",this.dataForInjector)}},{key:"collectKeyData",value:function(){return Object.keys(this.state).filter(function(e){return D.is(e)})}},{key:"collectData",value:function(){var e=this;return Object.assign.apply(Object,[{}].concat(Object(v.a)(this.collectKeyData().map(function(t){return Object(f.a)({},D.pure(t),e.state[t])}))))}},{key:"invalidData",value:function(e){var t=this.state.inputs;return Object.entries(e).filter(function(e){var a=Object(o.a)(e,2),n=a[0],c=a[1];return n in t&&"validate"in t[n]&&!x.validate(t[n].validate,c)})}},{key:"ajaxSubmit",value:function(e,t,a){var n=this,c=t.name,r=t.onInvalid;e&&"function"===typeof e.preventDefault&&e.preventDefault();var i=this.state.inputs,o=c||this.state.clicked||"",l="before".concat(o),s="after".concat(o),u=function(){for(var e=arguments.length,t=new Array(e),c=0;c<e;c++)t[c]=arguments[c];s in n.props&&n.props[s].apply(n,t),a&&a.apply(void 0,t)},m=i[o],d="data"in m?m.data:{},p=Object.assign({},this.collectData(),d),f=this.invalidData(p);if(0===f.length||"function"!==typeof r||!1===r(f,i)){var v=l in this.props?this.props[l](p):{};if(!1!==v){v="object"===typeof v?v:{};var h=Object.assign({},m,v),b=h.action,g=h.method,_=this.props.data,j=void 0===_?{}:_,y=Object.assign({},j,v.data||p);if(!b)return u(y);this.setState({disabled:!0}),fetch(b,Object.assign({method:g,headers:{"Content-Type":"application/json","Request-Date":(new Date).toUTCString()}},["GET","HEAD",void 0].includes(g)?{}:{body:JSON.stringify(y)})).then(function(e){return n.setState({disabled:!1}),e}).then(function(e){return e.text()}).then(u).catch(console.error)}}}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=this.state.inputs[a];r.isvalid=1*x.validate(r.validate,n),this.setState(Object(f.a)({},D.data(a),n),c)}},{key:"pushData",value:function(e){var t=this,a=e.detail;a&&"object"===typeof a&&Object.entries(a).forEach(function(e){var a=Object(o.a)(e,2),n=a[0],c=void 0===n?"":n,r=a[1],i=void 0===r?"":r,l=D.data(c);""!==c&&""!==i&&i!==t.state[l]&&t.setState(Object(f.a)({},l,i),function(){"function"===typeof t.props.onChange&&t.props.onChange({target:{name:c,value:t.state[l]}})})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=void 0===a?"":a,r=t.rkey,o=t.inputs,l=t.onInvalid;return Object.keys(o).map(function(t){var a="".concat(r,"/").concat(t),s=o[t],u=e.props.duringConstruct,m=D.data(t),d=e.state[m],p=Object.assign(Object(i.a)({name:t,className:n,duringConstruct:u,rkey:a,parentkey:r},s,{defaultValue:d,disabled:e.state.disabled||s.disabled,onChange:function(t){if(d!==t.target.value){for(var a=arguments.length,n=new Array(a>1?a-1:0),c=1;c<a;c++)n[c-1]=arguments[c];!1!==e.onChange.apply(e,[t].concat(n))&&e.setState(Object(f.a)({},m,t.target.value))}}}),"before".concat(t)in e.props||"on".concat(t)in e.props||"after".concat(t)in e.props||"submit"===s.type?{onClick:function(){return e.setState({clicked:t},function(){return e.ajaxSubmit(null,{name:t,onInvalid:l})})}}:{});return c.a.createElement(k,Object.assign({key:a},p))})}}]),t}(c.a.Component),A=function(e){var t=e.titleinfo,a=e.info,r=e.saveProducts,l=e.inputs,s=function(e){return e.selected},u=Object(n.useState)(Object(i.a)({},l,{product:Object(i.a)({},l.product,{value:r.find(s).title})})),m=Object(o.a)(u,2),d=m[0],p=m[1];Object(n.useEffect)(function(){return p(Object(i.a)({},l,{product:Object(i.a)({},l.product,{value:r.find(s).title})}))},[r]);var f=r.find(s).discount,v=r.find(s).price;return c.a.createElement("div",{className:"payment"},c.a.createElement("div",{className:"payment__title-container"},c.a.createElement("h2",{className:"payment__title"},"You Have Selected the ".concat(r.find(s).title," program")),c.a.createElement("h3",{className:"payment__title payment__title--tip"},"For a Total Amount of"," ",c.a.createElement("span",{className:"payment__title payment__title--tip currency"},f?+v/100*(100-+f):v))),c.a.createElement("div",null,c.a.createElement("div",{className:"payment__form"},c.a.createElement("div",{className:"payment__form-container"},c.a.createElement("form",null,c.a.createElement(I,{inputs:d}))),c.a.createElement("div",{className:"payment__form-footer"},c.a.createElement("h2",{className:"payment__titleinfo"},t),c.a.createElement("h3",{className:"payment__info-text"},a)))))},F=function(e){var t=e.footer,a=t.caution,n=t.images,r=t.reachus,i=t.terms,o=t.policy,l=t.description;return c.a.createElement("footer",{className:"footer"},c.a.createElement("p",{className:"footer__caution"},"Caution: ",a),c.a.createElement("div",{className:"footer__icon-gallery"},n.map(function(e){var t=e.alt,a=e.src;return c.a.createElement(s,Object.assign({key:a},{src:a,alt:t},{className:"footer__img"}))})),c.a.createElement("p",{className:"footer__reachus"},r),c.a.createElement("div",{className:"footer__policy"},c.a.createElement("a",{href:i},"Terms and conditions")," |"," ",c.a.createElement("a",{href:o},"Privacy Policy")),c.a.createElement("p",{className:"footer__description"},l))},V=function(e){var t=e.data,a=t.chance,r=t.products,l=t.payment,s=t.footer,u=Object(n.useState)(r),m=Object(o.a)(u,2),d=m[0],f=m[1],v=Object(n.useState)({}),h=Object(o.a)(v,2),b=h[0],g=h[1],_=Object(n.useState)(!1),j=Object(o.a)(_,2),y=j[0],E=j[1];Object(n.useEffect)(function(){fetch("".concat(".","/form.json")).then(function(e){return e.json()}).then(function(e){g(e.inputs),E(!0)}).catch(console.error)},[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("main",null,c.a.createElement(p,{saveProducts:d,chance:a,changeSelectedProduct:function(e){f(d.map(function(t,a){var n=t.selected=a===e;return Object(i.a)({},t,{selected:n})}))}}),y&&c.a.createElement(A,Object.assign({},l,{saveProducts:d,inputs:b})),c.a.createElement(F,{footer:s})))};fetch("".concat(".","/index.json")).then(function(e){return e.json()}).then(function(e){return Object(r.render)(c.a.createElement(V,{data:e}),document.getElementById("root"))}).catch(console.error)}},[[14,1,2]]]);
//# sourceMappingURL=main.c2aa5c60.chunk.js.map