(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports=a(20)},20:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),i=a(4),o=a(1),l=function(e){var t=e.title,a=e.price,n=e.titletip,c=e.programinclude,i=e.selected,o=e.index,l=e.changeSelectedProduct;return r.a.createElement("div",{className:"product"},r.a.createElement("h3",{className:"product__title"},t),r.a.createElement("h4",{className:"product__tip"},n),r.a.createElement("h3",{className:"product__price"},a),r.a.createElement("ul",{className:"product__description"},c.map(function(e){return r.a.createElement("li",{key:e,className:"product__include"},e)})),r.a.createElement("button",{className:"product__btn  ".concat(i?"product__btn--selected":""),onClick:function(){return l(o)}},i?"Selected":"Buy Now"))},s=a(13),u=function(e){var t=e.src,a=e.alt,n=void 0===a?"":a,c=Object(s.a)(e,["src","alt"]);return r.a.createElement("img",Object.assign({src:"./"+t,alt:n},c))};var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=window.localStorage.getItem("date"),a=Date.now(),r=Math.floor(new Date(a-t).getTime()/1e3);t&&r<60*e||window.localStorage.setItem("date","".concat(a));var c=Object(n.useState)(r>60*e?60*e:60*e-r),i=Object(o.a)(c,2),l=i[0],s=i[1],u=Math.ceil(l/60),m=60*(e-u)-(60*e-l)+59;return Object(n.useEffect)(function(){var e=setInterval(function(){return s(l-1)},1e3);return 0===m&&u-1===0&&clearInterval(e),function(){return clearInterval(e)}},[l,e,u,m]),{seconds:1===m.toString().length?"0"+m:m,minutes:1===(u-1).toString().length?"0"+(u-1):u-1}},d=function(e){var t=e.chance,a=t.title,n=t.message,c=t.img,i=m(10),o=i.seconds,l=i.minutes;return r.a.createElement("div",{className:"program__chance"},r.a.createElement("div",{className:"program__chance-box"},r.a.createElement("h3",{className:"program__chance-title"},a),r.a.createElement("p",{className:"program__chance-message"},n)),r.a.createElement("div",{className:"program__chance-img-container"},r.a.createElement(u,Object.assign({},c,{className:"program__chance-img"}))),r.a.createElement("div",{className:"program__chance-box"},r.a.createElement("div",{className:"program__win"},r.a.createElement("div",{className:"program__win-cell"},r.a.createElement("span",{className:"program__win-unit"},"HOURS"),r.a.createElement("span",null,"00")),r.a.createElement("div",{className:"program__win-cell program__win-cell--divider"},r.a.createElement("span",null,":")),r.a.createElement("div",{className:"program__win-cell"},r.a.createElement("span",{className:"program__win-unit"},"MINUTES"),r.a.createElement("span",null,l)),r.a.createElement("div",{className:"program__win-cell program__win-cell--divider"},r.a.createElement("span",null,":")),r.a.createElement("div",{className:"program__win-cell"},r.a.createElement("span",{className:"program__win-unit"},"SECONDS"),r.a.createElement("span",null,o)))))},p=function(e){var t=e.chance,a=e.saveProducts,n=e.changeSelectedProduct;return r.a.createElement("div",{className:"program"},r.a.createElement("div",{className:"program__header"},r.a.createElement("h2",{className:"program__title-header"},"The Official Green Card Program"),r.a.createElement("h3",{className:"program__title-header program__title-header--italic"},"Come Live and Work In the US")),r.a.createElement("div",{className:"program__container"},r.a.createElement(d,{chance:t}),r.a.createElement("div",{className:"program__products"},a&&a.map(function(e,t){return r.a.createElement(l,Object.assign({key:e.title},e,{index:t,changeSelectedProduct:n}))}))))},f=a(3),v=a(2),h=a(7),b=a(9),g=a(8),j=a(6),y=a(10),_=a(5);function O(e,t,a){null!==e&&"object"===typeof e&&a.forEach(function(a){return e[t].apply(e,Object(v.a)(a))})}function E(e){return"string"!==typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n.isValidElement)(e)?e:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=function(e){return N(e,t)};return Array.isArray(e)?e.map(a):"object"!==typeof e?e:Object.keys(e).map(function(r){var c=e[r],i=Object.assign({},"object"!==typeof c||Array.isArray(c)?{children:Array.isArray(c)?c:[c]}:c),o=i.tag,l=void 0===o?r:o,s=i.name,u=void 0===s?r:s,m=i.className,d=void 0===m?u:m,p=i.key,f=void 0===p?u:p,h=i.children,b=void 0===h?[]:h;return Object.assign(i,{name:u,key:f,className:d}),delete i.children,delete i.tag,n.createElement.apply(void 0,[l in t?t[l]:l,i].concat(Object(v.a)((Array.isArray(b)?b:[b]).map(a))))})}(e,t)}var k=function(e){function t(e){var a;Object(h.a)(this,t),a=Object(b.a)(this,Object(g.a)(t).call(this,e));var n=e.duringConstruct;return"function"===typeof n&&n(e),a}return Object(y.a)(t,e),Object(j.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.onChange,a=e.value,n=e.defaultValue;t({target:{name:e.name,value:a||n}})}},{key:"render",value:function(){var e=this.props,t=e.name,a=void 0===t?"":t,n=e.label,c=void 0===n?"":n,i=e.type,o=void 0===i?"title":i,l=e.isvalid,s=e.disabled,u=void 0!==s&&s,m=e.required,d=void 0!==m&&m,p=e.validator,f=e.style,v=void 0===f?{}:f,h=e.parentkey,b=Object.assign({name:a},this.props);delete b.duringConstruct;var g=function(e,t){return Object.assign(t,{"data-parentkey":h,className:[E(e),u?"Disabled":"",d?"Required":"",["NoValidation","NotValid","Valid"][1+l],"function"===typeof p?E(p):""].join(" "),key:"".concat(e).concat(a),style:v})},j=g("input",Object.assign(b,b.value?{disabled:!0}:{},{name:a,id:"".concat(h,"/input:").concat(a)})),y=g("label",{htmlFor:j.id,name:a,children:c}),_="input";switch(o){case"title":y.className+=" ".concat(E(o));break;case"textarea":_=o,j.className+=" ".concat(E(o));break;case"list":var O=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.checkbox,c=void 0!==n&&n,i=a.parentkey,o=void 0===i?"":i;return{tag:c?"":"select",children:t.map(function(t){var n="object"===typeof t?t:{value:t},i=n.value,l=n.label,s=void 0===l?i:l,u="".concat(o).concat(e).concat(i),m=[e,i].map(E).join(" ");return c?r.a.createElement(r.a.Fragment,null,r.a.createElement("input",Object.assign({},a,{name:e,value:i,type:"radio",id:u,key:u,className:"".concat(m," Input"),onClick:function(){return a.onChange.apply(a,arguments)},onChange:null})),r.a.createElement("label",{name:e,className:"".concat(m," Option"),htmlFor:u,key:"".concat(u,"/Option")},N(s))):r.a.createElement("option",{key:u,value:i},s)})}}(j.name,j.items,j);_=O.tag,j.children=O.children;break;case"year":case"month":_="select",j.children=S(w[o].count,function(e){var t=0===e?"":e+w[o].startValue;return r.a.createElement("option",Object.assign({key:"Option".concat(j.name).concat(e)},{value:t}),t)});break;case"button":j.className+=" Button",j.value=c;break;case"submit":j.value=c,j.className+=" Submit Button";default:if(!C.includes(o))return[];j.type=o}return j.value=j.value||j.defaultValue,delete j.defaultValue,r.a.createElement(r.a.Fragment,null," ",""===c||["submit","button","hidden"].includes(o)?null:r.a.createElement("label",y),["","title"].includes(o)?null:""===_?j.children:r.a.createElement(_,j)," ")}}]),t}(r.a.Component),S=function(e,t){return Object(v.a)(Array(e).keys()).map(t)},w={month:{startValue:0,count:13},year:{startValue:(new Date).getFullYear()-1,count:22}},C=["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];var D=Object.create({_prefix:"data_",data:function(e){return"".concat(this._prefix).concat(e)},pure:function(e){return e.replace(new RegExp("^".concat(this._prefix)),"")},is:function(e){return e.startsWith(this._prefix)}}),x={validate:function(e,t){var a=this,n=e;if(null!==e){"object"!==typeof n&&(Array.isArray(n)||(n=[n]),n={allOf:n});var r=Object.keys(n);if(1===r.length){var c=n[r=r[0]];switch(r){case"allOf":return c.every(function(e){return!(e in a.validators)||a.validators[e](t)});case"anyOf":return c.some(function(e){return e in a.validators&&a.validators[e](t)});default:return}}}},validators:{luhn:function(e){return e>0&&Object(v.a)(e.toString().replace(/[^0-9]+/g,"")).reverse().map(function(e,t){return e*(1+t%2)}).map(function(e){return e-(e<10?0:9)}).reduce(function(e,t){return e+t},0)%10===0},isracardDirect:function(e){return Object(v.a)(("0".repeat(9)+e.toString().replace(/[^0-9]+/g,"")).substr(-9)).map(function(e,t){return e*[-2,-3,-4,-5,5,4,3,2,1][t]}).reduce(function(e,t){return e+t},0)%11===0},required:function(e){return""!==e}}},I=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(b.a)(this,Object(g.a)(t).call(this,e))).state={disabled:!1,clicked:"",inputs:{}},a.dataForInjector=[],["handleChange","pushData","ajaxSubmit","setDisabled"].forEach(function(e){return a[e]=a[e].bind(Object(_.a)(Object(_.a)(a)))}),a.dataForInjector=[["dataInjecting",a.pushData],["disable",a.setDisabled]],a.onChange=function(t){a.handleChange(t),"function"===typeof e.onChange&&e.onChange(t,Object(_.a)(Object(_.a)(a)))},a.state=Object.assign(a.state,a.inputsToState(e.inputs)),a}return Object(y.a)(t,e),Object(j.a)(t,[{key:"inputsToState",value:function(e){return Object.assign.apply(Object,[{},{inputs:e}].concat(Object(v.a)(Object.entries(e).map(function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1],r=n.value,c=void 0===r?"":r,i=n.defaultValue,l=void 0===i?"":i;n.items;return Object(f.a)({},D.data(a),l||c)}))))}}]),Object(j.a)(t,[{key:"setDisabled",value:function(e){var t=e.detail;this.setState({disabled:t})}},{key:"componentDidMount",value:function(){O(this.props.injector,"addEventListener",this.dataForInjector)}},{key:"componentWillUnmount",value:function(){O(this.props.injector,"removeEventListener",this.dataForInjector)}},{key:"collectKeyData",value:function(){return Object.keys(this.state).filter(function(e){return D.is(e)})}},{key:"collectData",value:function(){var e=this;return Object.assign.apply(Object,[{}].concat(Object(v.a)(this.collectKeyData().map(function(t){return Object(f.a)({},D.pure(t),e.state[t])}))))}},{key:"invalidData",value:function(e){var t=this.state.inputs;return Object.entries(e).filter(function(e){var a=Object(o.a)(e,2),n=a[0],r=a[1];return n in t&&"validate"in t[n]&&!x.validate(t[n].validate,r)})}},{key:"ajaxSubmit",value:function(e,t,a){var n=this,r=t.name,c=t.onInvalid;e&&"function"===typeof e.preventDefault&&e.preventDefault();var i=this.state.inputs,o=r||this.state.clicked||"",l="before".concat(o),s="after".concat(o),u=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];s in n.props&&n.props[s].apply(n,t),a&&a.apply(void 0,t)},m=i[o],d="data"in m?m.data:{},p=Object.assign({},this.collectData(),d),f=this.invalidData(p);if(0===f.length||"function"!==typeof c||!1===c(f,i)){var v=l in this.props?this.props[l](p):{};if(!1!==v){v="object"===typeof v?v:{};var h=Object.assign({},m,v),b=h.action,g=h.method,j=this.props.data,y=void 0===j?{}:j,_=Object.assign({},y,v.data||p);if(!b)return u(_);this.setState({disabled:!0}),fetch(b,Object.assign({method:g,headers:{"Content-Type":"application/json","Request-Date":(new Date).toUTCString()}},["GET","HEAD",void 0].includes(g)?{}:{body:JSON.stringify(_)})).then(function(e){return n.setState({disabled:!1}),e}).then(function(e){return e.text()}).then(u).catch(console.error)}}}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},c=this.state.inputs[a];c.isvalid=1*x.validate(c.validate,n),this.setState(Object(f.a)({},D.data(a),n),r)}},{key:"pushData",value:function(e){var t=this,a=e.detail;a&&"object"===typeof a&&Object.entries(a).forEach(function(e){var a=Object(o.a)(e,2),n=a[0],r=void 0===n?"":n,c=a[1],i=void 0===c?"":c,l=D.data(r);""!==r&&""!==i&&i!==t.state[l]&&t.setState(Object(f.a)({},l,i),function(){"function"===typeof t.props.onChange&&t.props.onChange({target:{name:r,value:t.state[l]}})})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=void 0===a?"":a,c=t.rkey,o=t.inputs,l=t.onInvalid;return Object.keys(o).map(function(t){var a="".concat(c,"/").concat(t),s=o[t],u=e.props.duringConstruct,m=D.data(t),d=e.state[m],p=Object.assign(Object(i.a)({name:t,className:n,duringConstruct:u,rkey:a,parentkey:c},s,{defaultValue:d,disabled:e.state.disabled||s.disabled,onChange:function(t){if(d!==t.target.value){for(var a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];!1!==e.onChange.apply(e,[t].concat(n))&&e.setState(Object(f.a)({},m,t.target.value))}}}),"before".concat(t)in e.props||"on".concat(t)in e.props||"after".concat(t)in e.props||"submit"===s.type?{onClick:function(){return e.setState({clicked:t},function(){return e.ajaxSubmit(null,{name:t,onInvalid:l})})}}:{});return r.a.createElement(k,Object.assign({key:a},p))})}}]),t}(r.a.Component),A=function(e){e.title,e.titletip;var t=e.titleinfo,a=e.info,c=e.saveProducts,l=e.inputs,s=function(e){return e.selected},u=Object(n.useState)(Object(i.a)({},l,{product:Object(i.a)({},l.product,{value:c.find(s).title})})),m=Object(o.a)(u,2),d=m[0],p=m[1];return Object(n.useEffect)(function(){return p(Object(i.a)({},l,{product:Object(i.a)({},l.product,{value:c.find(s).title})}))},[c]),r.a.createElement("div",{className:"payment"},r.a.createElement("div",{className:"payment__title-container"},r.a.createElement("h2",{className:"payment__title"},"You Have Selected the ".concat(c.find(s).title," program")),r.a.createElement("h3",{className:"payment__title payment__title--tip"},"For a Total Amount of  "," ",r.a.createElement("span",{className:"payment__title payment__title--tip currency"},c.find(s).price))),r.a.createElement("div",null,r.a.createElement("div",{className:"payment__form"},r.a.createElement("div",{className:"payment__form-container"},r.a.createElement("form",null,r.a.createElement(I,{inputs:d}))),r.a.createElement("div",{className:"payment__form-footer"},r.a.createElement("h2",{className:"payment__titleinfo"},t),r.a.createElement("h3",{className:"payment__info-text"},a)))))},V=function(e){var t=e.footer,a=t.caution,n=t.images,c=t.reachus,i=t.terms,o=t.policy,l=t.description;return r.a.createElement("footer",{className:"footer"},r.a.createElement("p",{className:"footer__caution"},"Caution: ",a),r.a.createElement("div",{className:"footer__icon-gallery"},n.map(function(e){var t=e.alt,a=e.src;return r.a.createElement(u,Object.assign({key:a},{src:a,alt:t},{className:"footer__img"}))})),r.a.createElement("p",{className:"footer__reachus"},c),r.a.createElement("div",{className:"footer__policy"},r.a.createElement("a",{href:i},"Terms and conditions")," |"," ",r.a.createElement("a",{href:o},"Privacy Policy")),r.a.createElement("p",{className:"footer__description"},l))},F=function(e){var t=e.data,a=t.chance,c=t.products,l=t.payment,s=t.footer,u=Object(n.useState)(c),m=Object(o.a)(u,2),d=m[0],f=m[1],v=Object(n.useState)({}),h=Object(o.a)(v,2),b=h[0],g=h[1],j=Object(n.useState)(!1),y=Object(o.a)(j,2),_=y[0],O=y[1];Object(n.useEffect)(function(){fetch("".concat(".","/form.json")).then(function(e){return e.json()}).then(function(e){g(e.inputs),O(!0)}).catch(console.error)},[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",null,r.a.createElement(p,{saveProducts:d,chance:a,changeSelectedProduct:function(e){f(d.map(function(t,a){var n=t.selected=a===e;return Object(i.a)({},t,{selected:n})}))}}),_&&r.a.createElement(A,Object.assign({},l,{saveProducts:d,inputs:b})),r.a.createElement(V,{footer:s})))};fetch("".concat(".","/index.json")).then(function(e){return e.json()}).then(function(e){return Object(c.render)(r.a.createElement(F,{data:e}),document.getElementById("root"))}).catch(console.error)}},[[14,1,2]]]);
//# sourceMappingURL=main.b23f194b.chunk.js.map